# แอปพลิเคชันเข้าสู่ระบบและระบบห้องสมุด Spring Boot อย่างง่าย

## คำอธิบาย
แอปพลิเคชันนี้เป็นโปรเจกต์ Spring Boot ที่สาธิตระบบเข้าสู่ระบบ, ลงทะเบียน, และระบบห้องสมุดแบบง่าย โดยมีการจัดการหนังสือ, การยืม-คืน, การจอง, และการแจ้งเตือน พร้อมทั้งการจัดการโปรไฟล์ผู้ใช้

## คุณสมบัติ
*   **ระบบเข้าสู่ระบบและลงทะเบียน:** ผู้ใช้สามารถสร้างบัญชีและเข้าสู่ระบบได้อย่างปลอดภัย
*   **การจัดการโปรไฟล์:** ผู้ใช้สามารถอัปเดต Bio และเปลี่ยนรหัสผ่านของตนเองได้
*   **ระบบห้องสมุด (The Shelf):**
    *   ค้นหาหนังสือตามชื่อ, ผู้แต่ง, หรือหมวดหมู่
    *   กรองหนังสือตามสถานะ (ว่าง, ถูกยืม, ถูกจอง)
    *   ดูสถานะของหนังสือ (ว่าง, ถูกยืมโดยใคร, ถูกจองโดยใคร)
    *   ปุ่ม "Random Book" เพื่อสุ่มแสดงหนังสือหนึ่งเล่ม
*   **การยืมและคืนหนังสือ:** ผู้ใช้สามารถยืมหนังสือที่ว่างและคืนหนังสือที่ยืมไปแล้วได้
*   **การจองหนังสือ:** ผู้ใช้สามารถจองหนังสือที่ถูกยืมไปแล้วได้ และจะได้รับการแจ้งเตือนเมื่อหนังสือว่าง
*   **ประวัติการยืม (History):** ดูประวัติการยืมและคืนหนังสือทั้งหมดของผู้ใช้
*   **ระบบแจ้งเตือน (Notifications):** ผู้ใช้จะได้รับการแจ้งเตือนภายในแอปพลิเคชันเมื่อหนังสือที่จองไว้ว่าง
*   **โปรไฟล์สาธารณะ:** สามารถคลิกดูโปรไฟล์สาธารณะของผู้ใช้ที่ยืมหรือจองหนังสือ เพื่อดู Bio ของพวกเขาได้
*   **ธีม "Library of Ruina":** การออกแบบ UI ที่ได้รับแรงบันดาลใจจากเกม "Library of Ruina" พร้อมธีมสีและพื้นหลังเฉพาะสำหรับแต่ละหน้า (Floor)

## สิ่งที่ต้องมี
*   Java 11 หรือสูงกว่า
*   Maven
*   PostgreSQL (แนะนำให้ใช้ pgAdmin สำหรับการจัดการฐานข้อมูล)

## การตั้งค่าฐานข้อมูล PostgreSQL

1.  **สร้างฐานข้อมูล:**
    *   เปิด pgAdmin และเชื่อมต่อกับเซิร์ฟเวอร์ PostgreSQL ของคุณ
    *   คลิกขวาที่ **Databases** (ใต้เซิร์ฟเวอร์ PostgreSQL ของคุณ) -> **Create** -> **Database...**
    *   ตั้งชื่อฐานข้อมูลว่า `login_app`
    *   คลิก **Save**

2.  **ตั้งค่าผู้ใช้และรหัสผ่าน:**
    *   แอปพลิเคชันนี้ใช้ผู้ใช้ `postgres` และรหัสผ่าน `password` เป็นค่าเริ่มต้น
    *   หากรหัสผ่านผู้ใช้ `postgres` ของคุณแตกต่างไปจากนี้ ให้แก้ไขไฟล์ `src/main/resources/application.properties` โดยเปลี่ยนค่า `spring.datasource.password` ให้ตรงกับรหัสผ่านจริงของคุณ

3.  **การล้างข้อมูล (Truncate Tables) - หากเคยรันแอปพลิเคชันมาก่อน:**
    *   เนื่องจากมีการเปลี่ยนแปลงโครงสร้างฐานข้อมูลหลายครั้ง หากคุณเคยรันแอปพลิเคชันนี้มาก่อน อาจจำเป็นต้องล้างข้อมูลเก่าเพื่อสร้างตารางใหม่ให้ถูกต้อง
    *   ใน pgAdmin, ขยาย `Databases` -> `login_app` -> `Schemas` -> `public` -> `Tables`
    *   คลิกขวาที่ตาราง **`books`** และเลือก **"Truncate"**
    *   ในหน้าต่างที่ปรากฏขึ้น ให้ **เปิดใช้งาน "Cascade?"** (หรือ "CASCADE" ใน SQL)
    *   คลิก "OK" (การดำเนินการนี้จะล้างตาราง `books`, `borrowing_records`, `reservations`, และ `notifications` ทั้งหมด)
    *   คลิกขวาที่ตาราง **`users`** และเลือก **"Truncate"** (หากมีข้อมูลผู้ใช้เก่า)

## การรันแอปพลิเคชัน

1.  ตรวจสอบให้แน่ใจว่าคุณได้ติดตั้ง Java 11 และ Maven แล้ว
2.  ไปยังไดเรกทอรีหลักของโปรเจกต์ ใน Terminal หรือ Command Prompt
3.  รันแอปพลิเคชันโดยใช้คำสั่ง:
    ```bash
    mvn clean spring-boot:run
    ```
    (คำสั่ง `clean` จะช่วยให้แน่ใจว่ามีการคอมไพล์ใหม่ทั้งหมด)

## การเข้าถึงแอปพลิเคชัน

1.  หลังจากแอปพลิเคชันเริ่มทำงาน (คุณจะเห็นข้อความ `Started LoginAppApplication in...`)
2.  เปิดเว็บเบราว์เซอร์ของคุณและไปที่ `http://localhost:8080/login`
3.  **ลงทะเบียนผู้ใช้ใหม่:** ไปที่ `http://localhost:8080/register` เพื่อสร้างบัญชี (เช่น Username: `user`, Password: `password`)
4.  **เข้าสู่ระบบ:** ใช้บัญชีที่คุณสร้างเพื่อเข้าสู่ระบบ

หลังจากเข้าสู่ระบบสำเร็จ คุณจะถูกนำไปยังหน้า "The Shelf" ซึ่งคุณสามารถเริ่มสำรวจระบบห้องสมุดได้เลย!
